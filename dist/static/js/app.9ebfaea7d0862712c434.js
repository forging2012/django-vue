webpackJsonp([1],{0:function(t,e){},"6/op":function(t,e){},Dq8u:function(t,e){},E51W:function(t,e){},GEhU:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("7+uW"),n=new s.default,o={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},l=i("VU/8")(n,o,!1,null,null,null).exports,a={data:function(){return{menlist:{backgroud:""},menus:[{name:"机房信息",icon:"settings",key:"idc"},{name:"业务操作",icon:"settings",key:"ops"},{name:"批量分发",icon:"settings",key:"distribution"}],loading:!0}},mounted:function(){},created:function(){},methods:{forname:function(t){l.$emit("message",t)}},components:{}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("mu-list",[e("mu-list-item",{attrs:{title:"资产管理",toggleNested:""}},[e("mu-icon",{attrs:{slot:"left",value:"settings"},slot:"left"}),this._v(" "),this._l(this.menus,function(t){return e("mu-list-item",{key:t.key,attrs:{slot:"nested",title:t.name,to:"/Cmdb/"+t.key},slot:"nested"},[e("mu-icon",{attrs:{slot:"left",value:t.icon},slot:"left"})],1)})],2)],1)],1)},staticRenderFns:[]},d={data:function(){return{appBar:{marginLeft:"0",transition:"all 0.2s linear"},windowHeight:0,open:!0}},mounted:function(){this.setHeight(),window.addEventListener("resize",this.setHeight)},methods:{setHeight:function(){this.windowHeight=window.innerHeight+"px"},toggle:function(){this.open=!this.open,!0===this.open?this.appBar.marginLeft="0":this.appBar.marginLeft="-250px"}},components:{CmdbMenu:i("VU/8")(a,r,!1,null,null,null).exports}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{display:"flex"},style:{height:this.windowHeight}},[e("div",{staticStyle:{width:"250px",height:"100%"},style:this.appBar},[e("mu-appbar",{staticStyle:{"background-color":"#dd4b39"}},[e("md-avatar",[e("img",{attrs:{src:"/static/lufei.jpg",alt:"People"}})]),this._v(" "),e("mu-flat-button",{attrs:{label:"li hao"}})],1),this._v(" "),e("CmdbMenu")],1),this._v(" "),e("div",{staticStyle:{flex:"1"}},[e("mu-appbar",{staticStyle:{"background-color":"#dd4b39"},attrs:{title:"测试平台"}},[e("mu-icon-button",{attrs:{slot:"left",icon:"menu"},on:{click:this.toggle},slot:"left"}),this._v(" "),e("mu-icon-button",{attrs:{slot:"right",icon:"more_vert"},slot:"right"})],1),this._v(" "),e("router-view",{staticStyle:{margin:"20px 20px 0px 0px"}})],1)])},staticRenderFns:[]},u={name:"App",data:function(){return{}},computed:{},created:function(){},components:{headbar:i("VU/8")(d,c,!1,function(t){i("Dq8u")},null,null).exports},watch:{},methods:{}},m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("link",{attrs:{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic|Material+Icons"}}),this._v(" "),e("headbar",{ref:"headbar"})],1)},staticRenderFns:[]},p=i("VU/8")(u,m,!1,null,null,null).exports,f=i("/ocq"),h=i("woOf"),g=i.n(h),v=i("mvHQ"),_=i.n(v),y=function(t){return t.toString().toLowerCase()},b={data:function(){return{showDialog:!1,showDialog1:!1,search:null,searched:[],selected:[],open:!1,trigger:null,deldialog:!1,defmenu:{name:"",ip:"",env:""},menus:[{name:"李浩",ip:"127.0.0.1",env:"prod"},{name:"李浩",ip:"192.168.1.1",env:"test"}]}},mounted:function(){this.loadidclist()},methods:{opendelete:function(){this.deldialog=!0},closedelete:function(){this.deldialog=!1},searchOnTable:function(t){this.searched=function(t,e){return e?t.filter(function(t){return y(_()(t)).includes(y(e))}):t}(this.menus,t)},onSelect:function(t){this.$emit("selectform",t),this.selected=t},getAlternateLabel:function(t){return"所需要删除项目 "+t.length+"个"},configmenu:function(t){g()(this.defmenu,t),this.showDialog1=!0},opendefmenu:function(){this.defmenu={name:"",ip:"",env:""},this.showDialog=!0},add:function(t){var e=this,i=JSON.parse(_()(t));this.$http.post("http://test.com/yunwei/api/AESSLIST/",i).then(function(t){0!=t.data.ok?(e.selected=[],e.searched.push(i),e.showDialog=!1):alert("创建 IDC 出错: "+t.data.message)})},watch:{defmenu:{deep:!0,handler:function(t){}}},remove:function(t){var e=this,i=t.map(function(t){return t});t.map(function(t){return e.$http.delete("http://test.com/yunwei/api/AESSLIST/"+t.id+"/").then(function(t){0!=t.data.ok&&(e.searched=e.searched.filter(function(t){return!i.includes(t)}),e.selected=[],e.deldialog=!1)})})},config:function(t){var e=this,i=JSON.parse(_()(t));this.$http.put("http://test.com/yunwei/api/AESSLIST/"+t.id+"/",i).then(function(s){0!=s.data.ok?(e.selected=[],e.searched=e.searched.filter(function(e){return![t.id].includes(e.id)}),e.searched.push(i),e.showDialog1=!1):alert("创建 IDC 出错: "+s.data.message)})},loadidclist:function(){var t=this;this.$http.get("http://test.com/yunwei/api/AESSLIST/").then(function(e){0!=e.data.ok&&(t.menus=e.data,t.searched=t.menus)})}}},x={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("md-table-card",[0===t.selected.length?i("md-toolbar",{staticStyle:{background:"#2196f3"}},[i("h1",{staticClass:"md-title",staticStyle:{color:"white"}},[t._v("机房信息")]),t._v(" "),i("md-button",{staticClass:"md-icon-button"},[i("md-icon",{nativeOn:{click:function(e){t.opendefmenu(e)}}},[t._v("add")])],1),t._v(" "),i("md-button",{staticClass:"md-icon-button"},[i("md-icon",[t._v("search")])],1),t._v(" "),0===t.selected.length?i("form",{attrs:{novalidate:""},on:{submit:function(e){e.stopPropagation(),e.preventDefault(),t.submit(e)}}},[i("md-input-container",{attrs:{"md-inline":""}},[i("md-input",{on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1):t._e()],1):i("md-button",{staticClass:"md-primary md-raised",staticStyle:{background:"#dd4b39"},nativeOn:{click:function(e){t.opendelete(e)}}},[t._v(t._s(t.getAlternateLabel(t.selected)))]),t._v(" "),0===t.searched.length?i("div",{staticStyle:{"text-align":"center"}},[i("img",{staticStyle:{margin:"2em",height:"10em"},attrs:{src:"/static/nothing.jpg"}}),t._v(" "),i("div",{staticStyle:{padding:"1em",color:"#dd4b39"}},[i("md-icon",[t._v("info")]),t._v(" 没有东西")],1)]):i("md-table",{attrs:{"md-sort":"dessert","md-sort-type":"desc"},on:{select:t.onSelect}},[i("md-table-header",[i("md-table-row",[i("md-table-head",[t._v("主机名")]),t._v(" "),i("md-table-head",[t._v("IP")]),t._v(" "),i("md-table-head",[t._v("环境")]),t._v(" "),i("md-table-head",[t._v("操作")])],1)],1),t._v(" "),i("md-table-body",t._l(t.searched,function(e,s){return i("md-table-row",{key:s,attrs:{"md-item":e,"md-selection":""}},[i("md-table-cell",[t._v("\n                "+t._s(e.name)+"\n                ")]),t._v(" "),i("md-table-cell",[t._v("\n                "+t._s(e.ip)+"\n                ")]),t._v(" "),i("md-table-cell",[t._v("\n                "+t._s(e.env)+"\n                ")]),t._v(" "),i("md-table-cell",{on:{click:function(t){t.stopPropagation()}},nativeOn:{click:function(i){t.configmenu(e)}}},[i("md-button",{staticClass:"md-icon-button"},[i("md-icon",[t._v("edit")])],1)],1)],1)}))],1)],1),t._v(" "),i("md-dialog",{staticStyle:{width:"1000px",hegih:"800px"},attrs:{"md-active":t.showDialog},on:{"update:mdActive":function(e){t.showDialog=e}}},[i("p",[i("mu-dialog",{attrs:{open:t.showDialog,title:"添加服务器",scrollable:""},on:{close:function(e){t.showDialog=!1}}},[i("mu-menu",[i("mu-text-field",{staticStyle:{"font-size":"18px"},attrs:{label:"名称",fullWidth:""},model:{value:t.defmenu.name,callback:function(e){t.$set(t.defmenu,"name",e)},expression:"defmenu.name"}}),t._v(" "),i("mu-text-field",{staticStyle:{"font-size":"18px"},attrs:{label:"IP",fullWidth:""},model:{value:t.defmenu.ip,callback:function(e){t.$set(t.defmenu,"ip",e)},expression:"defmenu.ip"}}),t._v(" "),i("mu-text-field",{staticStyle:{"font-size":"18px"},attrs:{label:"环境",fullWidth:""},model:{value:t.defmenu.env,callback:function(e){t.$set(t.defmenu,"env",e)},expression:"defmenu.env"}})],1),t._v(" "),i("mu-flat-button",{attrs:{slot:"actions",secondary:"",label:"确定"},on:{click:function(e){t.add(t.defmenu)}},slot:"actions"}),t._v(" "),i("mu-flat-button",{attrs:{slot:"actions",label:"关闭"},on:{click:function(e){t.showDialog=!1}},slot:"actions"})],1)],1)]),t._v(" "),i("md-dialog",{staticStyle:{width:"1000px",hegih:"800px"},attrs:{"md-active":t.showDialog1},on:{"update:mdActive":function(e){t.showDialog1=e}}},[i("p",[i("mu-dialog",{attrs:{open:t.showDialog1,title:"添加服务器",scrollable:""},on:{close:function(e){t.showDialog1=!1}}},[i("mu-menu",[i("mu-text-field",{staticStyle:{"font-size":"18px"},attrs:{label:"名称",fullWidth:""},model:{value:t.defmenu.name,callback:function(e){t.$set(t.defmenu,"name",e)},expression:"defmenu.name"}}),t._v(" "),i("mu-text-field",{staticStyle:{"font-size":"18px"},attrs:{label:"IP",fullWidth:""},model:{value:t.defmenu.ip,callback:function(e){t.$set(t.defmenu,"ip",e)},expression:"defmenu.ip"}}),t._v(" "),i("mu-text-field",{staticStyle:{"font-size":"18px"},attrs:{label:"环境",fullWidth:""},model:{value:t.defmenu.env,callback:function(e){t.$set(t.defmenu,"env",e)},expression:"defmenu.env"}})],1),t._v(" "),i("mu-flat-button",{attrs:{slot:"actions",secondary:"",label:"确定"},on:{click:function(e){t.config(t.defmenu)}},slot:"actions"}),t._v(" "),i("mu-flat-button",{attrs:{slot:"actions",label:"关闭"},on:{click:function(e){t.showDialog1=!1}},slot:"actions"})],1)],1)]),t._v(" "),i("mu-dialog",{attrs:{open:t.deldialog,title:"确定删除"}},[i("mu-flat-button",{attrs:{slot:"actions",primary:"",label:"确定"},nativeOn:{click:function(e){t.remove(t.selected)}},slot:"actions"}),t._v(" "),i("mu-flat-button",{attrs:{slot:"actions",primary:"",label:"取消"},on:{click:t.closedelete},slot:"actions"})],1)],1)},staticRenderFns:[]},w=i("VU/8")(b,x,!1,function(t){i("GEhU")},null,null).exports,k={data:function(){return{selectip:null,output:"",deployLoading:!1,fristactive:!0,opsresult:"error",outstatus:{color:"gray",fontSize:"1.4em",des:"未执行",ops:"执行构建"},deploylist:{resource:"/opt/lihao.sh",user:"root",args:"",rediskey:""}}},updated:function(){var t=document.getElementById("deploylog");t&&(t.scrollTop=t.scrollHeight)},methods:{openDialog:function(t){this.$refs.dialog1.open()},closefalseDialog:function(t){this.$refs.dialog1.close(),this.selectip=[]},closetrueDialog:function(t){this.$refs.dialog1.close()},getuser:function(t){this.selectip=t.map(function(t){return t.ip})},deploy:function(){var t=this;this.$http.get("http://test.com/yunwei/api/deploy",{params:{resource:this.deploylist.resource,user:this.deploylist.user,args:this.deploylist.args,serverlist:_()(this.selectip)}}).then(function(e){if(0!=e.data.ok){var i=t;0!=e.data.code?(t.fristactive=!1,t.outstatus.color="red",t.outstatus.des="执行错误",t.outstatus.ops="再次构建",i.output=e.data.msg):(t.fristactive=!1,t.opsresult="error",t.outstatus.color="green",t.outstatus.des="执行中",t.outstatus.ops="再次构建",t.deploylist.rediskey=e.data.data.rediskey,i.output=t.getdeployresoult())}})},getdeployresoult:function(t){var e=this;this.$http.get("http://test.com/yunwei/api/deployResoult",{params:{rediskey:this.deploylist.rediskey,resource:this.deploylist.resource}}).then(function(t){if(0!=t.data.ok){if(void 0===e.output&&(e.deployLoading=!0,e.output="\n"),/Deploy\ End/.test(t.data.msg))return e.deployLoading=!1,e.outstatus.des="执行结果",void(e.opsresult="done");t.data.msg&&"null"!=t.data.msg&&(e.output=""+e.output+t.data.msg+"\n"),window.setTimeout(function(){e.getdeployresoult()},200)}})}},components:{idclist:w}},S={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"phone-viewport"},[i("form",{staticStyle:{margin:"50px 50px 0px 0px"}},[i("mu-flexbox",[i("mu-flexbox-item",{attrs:{align:"center"}},[i("h2",[t._v("任务管理")])])],1),t._v(" "),i("md-whiteframe",{attrs:{"md-elevation":"1"}},[i("mu-flexbox",{staticStyle:{margin:"40px 40px 0px 0px"}},[i("mu-flexbox-item",[i("div",[i("table",{staticClass:"infoTable",staticStyle:{"text-align":"right",margin:"40px 40px 40px 40px",float:"left"}},[i("tbody",[i("tr",[i("th",[t._v("脚本来源:")]),t._v(" "),i("td",{staticStyle:{width:"300px"}},[i("md-input-container",[i("md-input",{model:{value:t.deploylist.resource,callback:function(e){t.$set(t.deploylist,"resource",e)},expression:"deploylist.resource"}})],1)],1)]),t._v(" "),i("tr",[i("th",[t._v("执行用户:")]),t._v(" "),i("td",[i("md-input-container",[i("md-input",{model:{value:t.deploylist.user,callback:function(e){t.$set(t.deploylist,"user",e)},expression:"deploylist.user"}})],1)],1)]),t._v(" "),i("tr",[i("th",[t._v("目标服务器:")]),t._v(" "),i("td",[i("div",{staticStyle:{float:"left"}},[i("div",[i("md-button",{staticClass:"md-primary md-raised",attrs:{id:"custom"},nativeOn:{click:function(e){t.openDialog("dialog1")}}},[t._v("选择服务器")])],1),t._v(" "),i("a",[t._v("(ansible无需选择服务器)")]),t._v(" "),i("div",{staticClass:"phone-viewport"},t._l(t.selectip,function(e,s){return i("md-list",{key:s},[i("md-list-item",[t._v(t._s(e))])],1)}))])])]),t._v(" "),i("tr",[i("th",[t._v("脚本参数:")]),t._v(" "),i("td",[i("md-input-container",[i("md-textarea",{model:{value:t.deploylist.args,callback:function(e){t.$set(t.deploylist,"args",e)},expression:"deploylist.args"}})],1)],1)])])])]),t._v(" "),i("div",[i("md-whiteframe",{staticStyle:{float:"right",margin:"40px 200px 100px 0px",width:"600px",height:"300px"},attrs:{"md-elevation":"1"}},[i("md-whiteframe",{attrs:{"md-elevation":"1"}},[i("mu-linear-progress",{directives:[{name:"show",rawName:"v-show",value:t.deployLoading,expression:"deployLoading"}],attrs:{size:5,color:"red"}}),t._v(" "),i("md-card-actions",{staticStyle:{"justify-content":"flex-start"}},[i("md-button",{staticClass:"md-dense",staticStyle:{padding:".2em .6em"}},[i("md-icon",{style:t.outstatus},[t._v(t._s(t.opsresult))]),t._v("\n                                  "+t._s(t.outstatus.des)+"\n                              ")],1)],1),t._v(" "),i("md-card-content",{staticStyle:{padding:".5em",height:"20em","overflow-y":"auto",background:"#333",color:"#FFF"},attrs:{id:"deploylog"}},[i("md-tooltip",[t._v("点击放大日志")]),t._v(" "),t.fristactive?i("pre",[t._v("\n\n\n          此程序为测试平台，仅支持: ansible / bash / python\n          由于测试原因，请连接服务器打通ssh\n          默认所有脚本都会放置在目标地址/tmp目录下进行远程执行\n          bash / python 并发会导致数据返回结果混乱，建议使用 ansible\n                              ")]):i("pre",[t._v("  "+t._s(t.output)+"  \n                              ")])],1),t._v(" "),i("md-card-actions",{staticStyle:{"justify-content":"flex-start"}},[i("md-button",{staticClass:"md-dense",staticStyle:{padding:".2em .6em"},nativeOn:{click:function(e){t.deploy()}}},[i("md-icon",{staticStyle:{"font-size":"1.4em"}},[t._v("build")]),t._v("\n                                  "+t._s(t.outstatus.ops)+"\n                              ")],1)],1)],1)],1)],1)])],1)],1)],1),t._v(" "),i("md-dialog",{ref:"dialog1",attrs:{"md-open-from":"#custom","md-close-to":"#custom"}},[i("md-dialog-content",[i("idclist",{ref:"idclist",on:{selectform:t.getuser}})],1),t._v(" "),i("md-dialog-actions",[i("md-button",{staticClass:"md-primary",nativeOn:{click:function(e){t.closetrueDialog("dialog1")}}},[t._v("确认")])],1)],1)],1)},staticRenderFns:[]},$=i("VU/8")(k,S,!1,function(t){i("a6cI")},null,null).exports,D=i("KvPw"),C=i.n(D),E=(i("hCol"),function(t){return t.toString().toLowerCase()}),O=function(t,e){if(e){var i=e.split("/");return e=i[i.length-1],t.filter(function(t){return E(_()(t)).includes(E(e))})}return t},z={data:function(){return{selectip:"",grogress:{},output:"",deployLoading:!1,fristactive:!0,contacts:[],dirlist:[],linuxfile:"",localfiledailog:!1,rsyncfiledailog:!0,error:"",uploadstatus:{"-1":"未执行",0:"正在执行",1:"执行成功",2:"执行失败"},errortype:{1:"上传文件大小超过限制",2:"上传文件不能为空"},outstatus:{color:"gray",fontSize:"1.4em",des:"未执行",ops:"执行构建"},deploylist:{user:"root",desc:"/opt"},dropzoneOptions:{url:"http://test.com/yunwei/api/upload",thumbnailWidth:150,maxFilesize:50}}},watch:{linuxfile:function(t){if("/"===t.charAt(t.length-1))this.lsdir(t);else 0===t.length&&(this.dirlist="");this.dirlist=O(this.dirlist,t)}},updated:function(){var t=document.getElementById("deploylog");t&&(t.scrollTop=t.scrollHeight)},methods:{searchOnTable:function(t){this.dirlist=O(this.dirlist,t)},openfiledailog:function(){this.localfiledailog=!0,this.rsyncfiledailog=!1,this.contacts=[]},openrsyncfiledailog:function(){this.localfiledailog=!1,this.rsyncfiledailog=!0,this.dirlist="",this.linuxfile=""},openDialog:function(t){this.$refs.dialog1.open()},closetrueDialog:function(t){this.$refs.dialog1.close()},getuser:function(t){this.selectip=t.map(function(t){return t.ip}),this.uploaddailog=!0},uploaded:function(t,e){this.$refs.myVueDropzone.removeAllFiles(),this.contacts.push(t.name)},onFileError:function(){this.error=this.errortype[1],this.$refs.snackbar.open()},deploy:function(){var t=this;if(0===this.linuxfile.length&&0===this.contacts.length)return this.error=this.errortype[2],void this.$refs.snackbar.open();var e={iplist:_()(this.selectip),filelist:_()(this.contacts),localfilelist:_()(this.linuxfile),des:this.deploylist.desc,user:this.deploylist.user};this.$http.post("http://test.com/yunwei/api/rsyncFile",e).then(function(e){0===e.data.code?t.output=t.deployResult():400===e.data.code&&(t.error=e.data.msg,t.$refs.snackbar.open())})},deployResult:function(){var t=this,e={iplist:_()(this.selectip)};this.$http.post("http://test.com/yunwei/api/rsyncFileResoult",e).then(function(e){0!=e.data.ok&&(t.grogress=e.data.msg);var i=0;for(var s in t.grogress)999===e.data.msg[s].progress?(t.grogress[s].status="2",t.grogress[s].color="red",t.grogress[s].percent="0%"):100!=e.data.msg[s].progress?(i=1,t.grogress[s].status="0",t.grogress[s].color="yellow",t.grogress[s].percent=e.data.msg[s].progress+"%"):100===e.data.msg[s].progress?(t.grogress[s].status="1",t.grogress[s].color="green",t.grogress[s].percent=e.data.msg[s].progress+"%"):t.grogress[s].status="0";0!==i&&window.setTimeout(function(){t.deployResult()},2e3)})},lsdir:function(t){var e=this;this.$http.get("http://test.com/yunwei/api/lsDir",{params:{dir:this.linuxfile}}).then(function(t){0!=t.data.ok&&(e.dirlist=t.data.msg)})}},components:{idclist:w,vueDropzone:C.a}},F={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"phone-viewport"},[i("form",{staticStyle:{margin:"50px 50px 0px 0px"}},[i("mu-flexbox",[i("mu-flexbox-item",{attrs:{align:"center"}},[i("h2",[t._v("批量分发")])])],1),t._v(" "),i("md-whiteframe",{attrs:{"md-elevation":"1"}},[i("mu-flexbox",{staticStyle:{margin:"40px 40px 0px 0px"}},[i("mu-flexbox-item",[i("div",[i("table",{staticClass:"infoTable",staticStyle:{"text-align":"right",width:"80%",margin:"40px 40px 0px 0px"}},[i("tbody",[i("tr",[i("td"),t._v(" "),i("td",[i("md-button-toggle",{staticClass:"md-primary",attrs:{"md-single":""}},[i("md-button",{nativeOn:{click:function(e){t.openfiledailog(e)}}},[t._v("服务器文件\n                              ")]),t._v(" "),i("md-button",{staticClass:"md-toggle",nativeOn:{click:function(e){t.openrsyncfiledailog(e)}}},[t._v("本地上传文件\n                              ")])],1)],1)]),t._v(" "),i("tr",[i("th",[t._v("文件来源:")]),t._v(" "),i("td",{staticStyle:{width:"80%","text-align":"left"}},[t.rsyncfiledailog?i("vue-dropzone",{ref:"myVueDropzone",attrs:{id:"dropzone",options:t.dropzoneOptions},on:{"vdropzone-success":t.uploaded,"vdropzone-error":t.onFileError}}):t._e(),t._v(" "),t.localfiledailog?i("md-input-container",[i("md-input",{attrs:{placeholder:"例: /tmp/1.txt"},model:{value:t.linuxfile,callback:function(e){t.linuxfile=e},expression:"linuxfile"}})],1):t._e()],1)]),t._v(" "),i("tr",[i("th"),t._v(" "),i("td",{staticStyle:{width:"80%","text-align":"left"}},[t.localfiledailog?i("md-whiteframe",{staticStyle:{padding:"0em 0.5em 0.5em 1em",height:"400px","overflow-y":"auto",background:"#333",color:"#FFF"},attrs:{"md-elevation":"1"}},[i("md-card-content",[i("pre",[t._v("                                              "),t._l(t.dirlist,function(e,s){return i("table",{key:s},[t._v("\n                                              "),i("tr",[t._v(t._s(e))]),t._v("\n                                              ")])}),t._v("\n                                          ")],2)])],1):t._e()],1)]),t._v(" "),0!=t.contacts.length&&t.rsyncfiledailog?i("tr",[i("td"),t._v(" "),i("td",[i("md-chips",{model:{value:t.contacts,callback:function(e){t.contacts=e},expression:"contacts"}})],1)]):t._e(),t._v(" "),i("tr",[i("th",[t._v("执行用户:")]),t._v(" "),i("td",[i("md-input-container",[i("md-input",{model:{value:t.deploylist.user,callback:function(e){t.$set(t.deploylist,"user",e)},expression:"deploylist.user"}})],1)],1)]),t._v(" "),i("tr",[i("th",[i("md-button",{staticClass:"md-primary md-raised",attrs:{id:"custom"},nativeOn:{click:function(e){t.openDialog("dialog1")}}},[t._v("选择服务器")])],1),t._v(" "),i("td",[i("div",{staticStyle:{float:"left"}},[i("div",[i("md-whiteframe",{staticStyle:{width:"600px"},attrs:{"md-elevation":"2"}},[i("md-table",[i("md-table-header",[i("md-table-row",[i("md-table-head",{attrs:{"md-numeric":""}},[t._v("服务器")]),t._v(" "),i("md-table-head",{attrs:{"md-numeric":""}},[t._v("上传进度")]),t._v(" "),i("md-table-head",{attrs:{"md-numeric":""}},[t._v("状态")])],1)],1),t._v(" "),i("md-table-body",t._l(t.selectip,function(e,s){return i("md-table-row",{key:s},[i("md-table-cell",[t._v(t._s(e))]),t._v(" "),i("md-table-cell",[i("mu-linear-progress",{attrs:{mode:"determinate",size:10,color:t.grogress[e]?t.grogress[e].color:"",value:t.grogress[e]?t.grogress[e].progress:0}}),t._v("\n                                  "+t._s(t.grogress[e]?t.grogress[e].percent:"")+"\n                              ")],1),t._v(" "),i("md-table-cell",[t._v(t._s(t.grogress[e]?t.uploadstatus[t.grogress[e].status]:"未执行"))])],1)}))],1),t._v(" "),0===t.selectip.length?i("div",{staticStyle:{"text-align":"center"}},[i("img",{staticStyle:{margin:"2em",height:"10em"},attrs:{src:"/static/nothing.jpg"}}),t._v(" "),i("div",{staticStyle:{padding:"1em",color:"#dd4b39"}},[i("md-icon",[t._v("info")]),t._v(" 没有东西")],1)]):t._e()],1)],1)])])]),t._v(" "),i("tr",[i("th",[t._v("目标路径:")]),t._v(" "),i("td",[i("md-input-container",[i("md-textarea",{model:{value:t.deploylist.desc,callback:function(e){t.$set(t.deploylist,"desc",e)},expression:"deploylist.desc"}})],1)],1)]),t._v(" "),i("tr",[i("td"),t._v(" "),i("td",[0!=t.deploylist.desc.length?i("p",{staticStyle:{float:"left",color:"red"}},[t._v("注意: 确认目标服务器是否存在此目录")]):t._e(),t._v(" "),i("md-button",{staticClass:"md-primary md-raised",attrs:{id:"custom",disabled:0===t.selectip.length},nativeOn:{click:function(e){t.deploy()}}},[t._v("开始执行")])],1)])])])])])],1)],1)],1),t._v(" "),i("md-dialog",{ref:"dialog1",attrs:{"md-open-from":"#custom","md-close-to":"#custom"}},[i("md-dialog-content",[i("idclist",{ref:"idclist",on:{selectform:t.getuser}})],1),t._v(" "),i("md-dialog-actions",[i("md-button",{staticClass:"md-primary",nativeOn:{click:function(e){t.closetrueDialog("dialog1")}}},[t._v("确认")])],1)],1),t._v(" "),i("md-snackbar",{ref:"snackbar",attrs:{"md-position":"top center","md-duration":"3000"}},[i("div",[i("md-icon",[t._v("error")]),t._v(" "),i("span",[t._v(t._s(t.error))])],1)])],1)},staticRenderFns:[]},L={data:function(){return{assetListType:{idc:"idclist",ops:"opslist",distribution:"distribution"},loading:!0}},mounted:function(){},created:function(){},methods:{},components:{idclist:w,opslist:$,distribution:i("VU/8")(z,F,!1,function(t){i("6/op")},null,null).exports}},T={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e(this.assetListType[this.$route.params.assetType],{tag:"component"})],1)},staticRenderFns:[]},R=i("VU/8")(L,T,!1,null,null,null).exports;s.default.use(f.a);var I=new f.a({mode:"history",routes:[{path:"/Cmdb/:assetType",component:R}]}),A=i("u64Q"),V=i.n(A),H=(i("E51W"),i("Lgyv")),N=i.n(H),U=i("8+8L");i("tzNG");s.default.use(V.a),s.default.use(U.a),s.default.use(N.a),s.default.config.productionTip=!1,window.NOTIFY_SERVER=Object({NODE_ENV:"production"}).NOTIFY_SERVER,s.default.material.registerTheme("default",{primary:"blue",accent:"red",warn:"red",background:"white"}),new s.default({el:"#app",router:I,template:"<App/>",components:{App:p}})},a6cI:function(t,e){},hCol:function(t,e){},tzNG:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.9ebfaea7d0862712c434.js.map